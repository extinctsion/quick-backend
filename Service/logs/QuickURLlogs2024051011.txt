2024-05-10 11:15:06.554 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-10 11:15:06.710 +00:00 [DBG] Hosting starting
2024-05-10 11:15:06.961 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 95C5839D8316CFEA57B48223CE6FF9D663C76A76)
2024-05-10 11:15:07.582 +00:00 [INF] Now listening on: http://[::]:8080
2024-05-10 11:15:07.582 +00:00 [INF] Now listening on: https://[::]:8081
2024-05-10 11:15:07.583 +00:00 [DBG] Loaded hosting startup assembly Service
2024-05-10 11:15:07.585 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-10 11:15:07.586 +00:00 [INF] Hosting environment: Development
2024-05-10 11:15:07.587 +00:00 [INF] Content root path: /app
2024-05-10 11:15:07.588 +00:00 [DBG] Hosting started
2024-05-10 11:15:08.497 +00:00 [DBG] Connection id "0HN3GS9PQCLG8" accepted.
2024-05-10 11:15:08.504 +00:00 [DBG] Connection id "0HN3GS9PQCLG9" accepted.
2024-05-10 11:15:08.504 +00:00 [DBG] Connection id "0HN3GS9PQCLG8" started.
2024-05-10 11:15:08.508 +00:00 [DBG] Connection id "0HN3GS9PQCLG9" started.
2024-05-10 11:15:08.567 +00:00 [DBG] Connection id "0HN3GS9PQCLG8" received FIN.
2024-05-10 11:15:08.610 +00:00 [DBG] Connection 0HN3GS9PQCLG9 established using the following protocol: "Tls13"
2024-05-10 11:15:08.610 +00:00 [DBG] Connection 0HN3GS9PQCLG8 established using the following protocol: "Tls13"
2024-05-10 11:15:08.657 +00:00 [DBG] Connection id "0HN3GS9PQCLG8" is closed. The last processed stream ID was 0.
2024-05-10 11:15:08.658 +00:00 [DBG] Connection id "0HN3GS9PQCLG8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-10 11:15:08.673 +00:00 [DBG] The connection queue processing loop for 0HN3GS9PQCLG8 completed.
2024-05-10 11:15:08.684 +00:00 [DBG] Connection id "0HN3GS9PQCLG8" stopped.
2024-05-10 11:15:08.722 +00:00 [INF] Request starting HTTP/2 GET https://localhost:32768/swagger - null null
2024-05-10 11:15:08.727 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-10 11:15:08.757 +00:00 [INF] Request finished HTTP/2 GET https://localhost:32768/swagger - 301 0 null 36.846ms
2024-05-10 11:15:08.781 +00:00 [INF] Request starting HTTP/2 GET https://localhost:32768/swagger/index.html - null null
2024-05-10 11:15:08.910 +00:00 [INF] Request finished HTTP/2 GET https://localhost:32768/swagger/index.html - 200 null text/html;charset=utf-8 128.9606ms
2024-05-10 11:15:08.926 +00:00 [INF] Request starting HTTP/2 GET https://localhost:32768/swagger/swagger-ui.css - null null
2024-05-10 11:15:08.950 +00:00 [INF] Request starting HTTP/2 GET https://localhost:32768/swagger/swagger-ui-bundle.js - null null
2024-05-10 11:15:08.974 +00:00 [INF] Request starting HTTP/2 GET https://localhost:32768/swagger/swagger-ui-standalone-preset.js - null null
2024-05-10 11:15:09.070 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-10 11:15:09.071 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-10 11:15:09.072 +00:00 [INF] Request finished HTTP/2 GET https://localhost:32768/swagger/swagger-ui.css - 200 144929 text/css 147.0589ms
2024-05-10 11:15:09.074 +00:00 [INF] Request finished HTTP/2 GET https://localhost:32768/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 100.3082ms
2024-05-10 11:15:09.188 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-10 11:15:09.189 +00:00 [INF] Request finished HTTP/2 GET https://localhost:32768/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 239.1871ms
2024-05-10 11:15:09.523 +00:00 [INF] Request starting HTTP/2 GET https://localhost:32768/swagger/v1/swagger.json - null null
2024-05-10 11:15:09.581 +00:00 [INF] Request starting HTTP/2 GET https://localhost:32768/swagger/favicon-32x32.png - null null
2024-05-10 11:15:09.583 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-10 11:15:09.584 +00:00 [INF] Request finished HTTP/2 GET https://localhost:32768/swagger/favicon-32x32.png - 200 628 image/png 3.787ms
2024-05-10 11:15:09.673 +00:00 [INF] Request finished HTTP/2 GET https://localhost:32768/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 150.3429ms
2024-05-10 11:15:30.270 +00:00 [INF] Request starting HTTP/2 POST https://localhost:32768/api - application/json-patch+json 118
2024-05-10 11:15:30.272 +00:00 [DBG] POST requests are not supported
2024-05-10 11:15:30.274 +00:00 [INF] No CORS policy found for the specified request.
2024-05-10 11:15:30.300 +00:00 [DBG] 1 candidate(s) found for the request path '/api'
2024-05-10 11:15:30.303 +00:00 [DBG] Endpoint 'Service.Controllers.ShortnerController.ShortenUrl (Service)' with route pattern 'api' is valid for the request path '/api'
2024-05-10 11:15:30.304 +00:00 [DBG] Request matched endpoint 'Service.Controllers.ShortnerController.ShortenUrl (Service)'
2024-05-10 11:15:30.313 +00:00 [INF] Executing endpoint 'Service.Controllers.ShortnerController.ShortenUrl (Service)'
2024-05-10 11:15:30.338 +00:00 [INF] Route matched with {action = "ShortenUrl", controller = "Shortner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShortenUrl(System.String) on controller Service.Controllers.ShortnerController (Service).
2024-05-10 11:15:30.340 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-10 11:15:30.341 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-10 11:15:30.342 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-10 11:15:30.343 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-10 11:15:30.344 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-10 11:15:30.347 +00:00 [DBG] Executing controller factory for controller Service.Controllers.ShortnerController (Service)
2024-05-10 11:15:30.668 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-10 11:15:30.697 +00:00 [DBG] Executed controller factory for controller Service.Controllers.ShortnerController (Service)
2024-05-10 11:15:30.710 +00:00 [DBG] Attempting to bind parameter 'originalUrl' of type 'System.String' ...
2024-05-10 11:15:30.714 +00:00 [DBG] Attempting to bind parameter 'originalUrl' of type 'System.String' using the name '' in request data ...
2024-05-10 11:15:30.716 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-05-10 11:15:30.718 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-05-10 11:15:30.724 +00:00 [DBG] Connection id "0HN3GS9PQCLG9", Request id "0HN3GS9PQCLG9:0000000F": started reading request body.
2024-05-10 11:15:30.726 +00:00 [DBG] Connection id "0HN3GS9PQCLG9", Request id "0HN3GS9PQCLG9:0000000F": done reading request body.
2024-05-10 11:15:30.785 +00:00 [DBG] Done attempting to bind parameter 'originalUrl' of type 'System.String'.
2024-05-10 11:15:30.785 +00:00 [DBG] Done attempting to bind parameter 'originalUrl' of type 'System.String'.
2024-05-10 11:15:30.786 +00:00 [DBG] Attempting to validate the bound parameter 'originalUrl' of type 'System.String' ...
2024-05-10 11:15:30.794 +00:00 [DBG] Done attempting to validate the bound parameter 'originalUrl' of type 'System.String'.
2024-05-10 11:15:31.529 +00:00 [DBG] Entity Framework Core 8.0.4 initialized 'QuickDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-05-10 11:15:31.576 +00:00 [DBG] 'QuickDbContext' generated a temporary value for the property 'Shortner.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-10 11:15:31.651 +00:00 [DBG] Context 'QuickDbContext' started tracking 'Shortner' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-10 11:15:31.657 +00:00 [DBG] SaveChanges starting for 'QuickDbContext'.
2024-05-10 11:15:31.662 +00:00 [DBG] DetectChanges starting for 'QuickDbContext'.
2024-05-10 11:15:31.684 +00:00 [DBG] DetectChanges completed for 'QuickDbContext'.
2024-05-10 11:15:31.762 +00:00 [DBG] Creating DbConnection.
2024-05-10 11:15:31.807 +00:00 [DBG] Created DbConnection. (42ms).
2024-05-10 11:15:31.813 +00:00 [DBG] Opening connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:15:34.858 +00:00 [DBG] Opened connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:15:34.867 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-10 11:15:34.872 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-05-10 11:15:34.879 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-05-10 11:15:34.891 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Shortner" ("CreatedAt", "GeneratedKey", "LastUpdatedAt", "URL")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2024-05-10 11:15:35.206 +00:00 [INF] Executed DbCommand (320ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Shortner" ("CreatedAt", "GeneratedKey", "LastUpdatedAt", "URL")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2024-05-10 11:15:35.226 +00:00 [DBG] The foreign key property 'Shortner.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-10 11:15:35.237 +00:00 [DBG] Closing data reader to 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:15:35.247 +00:00 [DBG] A data reader for 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432' is being disposed after spending 35ms reading results.
2024-05-10 11:15:35.252 +00:00 [DBG] Closing connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:15:35.259 +00:00 [DBG] Closed connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432' (6ms).
2024-05-10 11:15:35.271 +00:00 [DBG] An entity of type 'Shortner' tracked by 'QuickDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-10 11:15:35.274 +00:00 [DBG] SaveChanges completed for 'QuickDbContext' with 1 entities written to the database.
2024-05-10 11:15:35.282 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-10 11:15:35.285 +00:00 [DBG] No information found on request to perform content negotiation.
2024-05-10 11:15:35.285 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-10 11:15:35.286 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-10 11:15:35.288 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-10 11:15:35.290 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-10 11:15:35.362 +00:00 [INF] Executed action Service.Controllers.ShortnerController.ShortenUrl (Service) in 5011.3642ms
2024-05-10 11:15:35.363 +00:00 [INF] Executed endpoint 'Service.Controllers.ShortnerController.ShortenUrl (Service)'
2024-05-10 11:15:35.369 +00:00 [DBG] 'QuickDbContext' disposed.
2024-05-10 11:15:35.376 +00:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:15:35.379 +00:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432' (2ms).
2024-05-10 11:15:35.380 +00:00 [INF] Request finished HTTP/2 POST https://localhost:32768/api - 200 18 application/json; charset=utf-8 5109.5907ms
2024-05-10 11:15:53.172 +00:00 [INF] Request starting HTTP/2 GET https://localhost:32768/api/7b76c7e6 - null null
2024-05-10 11:15:53.175 +00:00 [DBG] The request path  does not match the path filter
2024-05-10 11:15:53.176 +00:00 [DBG] 1 candidate(s) found for the request path '/api/7b76c7e6'
2024-05-10 11:15:53.177 +00:00 [DBG] Endpoint 'Service.Controllers.ShortnerController.RedirectUrl (Service)' with route pattern 'api/{key}' is valid for the request path '/api/7b76c7e6'
2024-05-10 11:15:53.178 +00:00 [DBG] Request matched endpoint 'Service.Controllers.ShortnerController.RedirectUrl (Service)'
2024-05-10 11:15:53.180 +00:00 [INF] Executing endpoint 'Service.Controllers.ShortnerController.RedirectUrl (Service)'
2024-05-10 11:15:53.185 +00:00 [INF] Route matched with {action = "RedirectUrl", controller = "Shortner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RedirectUrl(System.String) on controller Service.Controllers.ShortnerController (Service).
2024-05-10 11:15:53.186 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-10 11:15:53.186 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-10 11:15:53.186 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-10 11:15:53.187 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-10 11:15:53.187 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-10 11:15:53.188 +00:00 [DBG] Executing controller factory for controller Service.Controllers.ShortnerController (Service)
2024-05-10 11:15:53.190 +00:00 [DBG] Executed controller factory for controller Service.Controllers.ShortnerController (Service)
2024-05-10 11:15:53.191 +00:00 [DBG] Attempting to bind parameter 'key' of type 'System.String' ...
2024-05-10 11:15:53.193 +00:00 [DBG] Attempting to bind parameter 'key' of type 'System.String' using the name 'key' in request data ...
2024-05-10 11:15:53.196 +00:00 [DBG] Done attempting to bind parameter 'key' of type 'System.String'.
2024-05-10 11:15:53.196 +00:00 [DBG] Done attempting to bind parameter 'key' of type 'System.String'.
2024-05-10 11:15:53.196 +00:00 [DBG] Attempting to validate the bound parameter 'key' of type 'System.String' ...
2024-05-10 11:15:53.198 +00:00 [DBG] Done attempting to validate the bound parameter 'key' of type 'System.String'.
2024-05-10 11:15:53.264 +00:00 [DBG] Entity Framework Core 8.0.4 initialized 'QuickDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-05-10 11:15:53.312 +00:00 [DBG] Compiling query expression: 
'DbSet<Shortner>()
    .Where(u => u.GeneratedKey == __key_0)
    .Select(u => u.URL)
    .FirstOrDefault()'
2024-05-10 11:15:53.448 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<string>(
    asyncEnumerable: new SingleQueryingEnumerable<string>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(1) s.URL
            FROM Shortner AS s
            WHERE s.GeneratedKey == @__key_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
        Data.QuickDb.QuickDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-10 11:15:53.481 +00:00 [DBG] Creating DbConnection.
2024-05-10 11:15:53.482 +00:00 [DBG] Created DbConnection. (0ms).
2024-05-10 11:15:53.482 +00:00 [DBG] Opening connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:15:53.483 +00:00 [DBG] Opened connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:15:53.484 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-10 11:15:53.484 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-10 11:15:53.485 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-10 11:15:53.485 +00:00 [DBG] Executing DbCommand [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."URL"
FROM "Shortner" AS s
WHERE s."GeneratedKey" = @__key_0
LIMIT 1
2024-05-10 11:15:53.720 +00:00 [INF] Executed DbCommand (235ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."URL"
FROM "Shortner" AS s
WHERE s."GeneratedKey" = @__key_0
LIMIT 1
2024-05-10 11:15:53.728 +00:00 [DBG] Closing data reader to 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:15:53.729 +00:00 [DBG] A data reader for 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432' is being disposed after spending 8ms reading results.
2024-05-10 11:15:53.730 +00:00 [DBG] Closing connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:15:53.731 +00:00 [DBG] Closed connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432' (0ms).
2024-05-10 11:15:53.733 +00:00 [INF] Executing RedirectResult, redirecting to https://cloud.tembo.io/orgs/org_2gGxOSLnyvNO4p2rY31TcYIEsOB/clusters/inst_1715337827100_E6ic64_4/extensions/explore#.
2024-05-10 11:15:53.734 +00:00 [INF] Executed action Service.Controllers.ShortnerController.RedirectUrl (Service) in 546.2165ms
2024-05-10 11:15:53.735 +00:00 [INF] Executed endpoint 'Service.Controllers.ShortnerController.RedirectUrl (Service)'
2024-05-10 11:15:53.735 +00:00 [DBG] 'QuickDbContext' disposed.
2024-05-10 11:15:53.736 +00:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:15:53.737 +00:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432' (0ms).
2024-05-10 11:15:53.737 +00:00 [INF] Request finished HTTP/2 GET https://localhost:32768/api/7b76c7e6 - 302 0 null 565.5587ms
2024-05-10 11:16:12.626 +00:00 [INF] Request starting HTTP/2 POST https://localhost:32768/api - application/json-patch+json 1549
2024-05-10 11:16:12.627 +00:00 [DBG] POST requests are not supported
2024-05-10 11:16:12.628 +00:00 [INF] No CORS policy found for the specified request.
2024-05-10 11:16:12.629 +00:00 [DBG] 1 candidate(s) found for the request path '/api'
2024-05-10 11:16:12.629 +00:00 [DBG] Endpoint 'Service.Controllers.ShortnerController.ShortenUrl (Service)' with route pattern 'api' is valid for the request path '/api'
2024-05-10 11:16:12.630 +00:00 [DBG] Request matched endpoint 'Service.Controllers.ShortnerController.ShortenUrl (Service)'
2024-05-10 11:16:12.631 +00:00 [INF] Executing endpoint 'Service.Controllers.ShortnerController.ShortenUrl (Service)'
2024-05-10 11:16:12.632 +00:00 [INF] Route matched with {action = "ShortenUrl", controller = "Shortner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShortenUrl(System.String) on controller Service.Controllers.ShortnerController (Service).
2024-05-10 11:16:12.633 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-10 11:16:12.633 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-10 11:16:12.634 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-10 11:16:12.634 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-10 11:16:12.635 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-10 11:16:12.635 +00:00 [DBG] Executing controller factory for controller Service.Controllers.ShortnerController (Service)
2024-05-10 11:16:12.639 +00:00 [DBG] Executed controller factory for controller Service.Controllers.ShortnerController (Service)
2024-05-10 11:16:12.640 +00:00 [DBG] Attempting to bind parameter 'originalUrl' of type 'System.String' ...
2024-05-10 11:16:12.641 +00:00 [DBG] Attempting to bind parameter 'originalUrl' of type 'System.String' using the name '' in request data ...
2024-05-10 11:16:12.642 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-05-10 11:16:12.643 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-05-10 11:16:12.644 +00:00 [DBG] Connection id "0HN3GS9PQCLG9", Request id "0HN3GS9PQCLG9:00000013": started reading request body.
2024-05-10 11:16:12.667 +00:00 [DBG] Connection id "0HN3GS9PQCLG9", Request id "0HN3GS9PQCLG9:00000013": done reading request body.
2024-05-10 11:16:12.670 +00:00 [DBG] Done attempting to bind parameter 'originalUrl' of type 'System.String'.
2024-05-10 11:16:12.671 +00:00 [DBG] Done attempting to bind parameter 'originalUrl' of type 'System.String'.
2024-05-10 11:16:12.672 +00:00 [DBG] Attempting to validate the bound parameter 'originalUrl' of type 'System.String' ...
2024-05-10 11:16:12.672 +00:00 [DBG] Done attempting to validate the bound parameter 'originalUrl' of type 'System.String'.
2024-05-10 11:16:12.685 +00:00 [DBG] Entity Framework Core 8.0.4 initialized 'QuickDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-05-10 11:16:12.686 +00:00 [DBG] 'QuickDbContext' generated a temporary value for the property 'Shortner.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-10 11:16:12.687 +00:00 [DBG] Context 'QuickDbContext' started tracking 'Shortner' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-10 11:16:12.687 +00:00 [DBG] SaveChanges starting for 'QuickDbContext'.
2024-05-10 11:16:12.689 +00:00 [DBG] DetectChanges starting for 'QuickDbContext'.
2024-05-10 11:16:12.689 +00:00 [DBG] DetectChanges completed for 'QuickDbContext'.
2024-05-10 11:16:12.691 +00:00 [DBG] Creating DbConnection.
2024-05-10 11:16:12.691 +00:00 [DBG] Created DbConnection. (0ms).
2024-05-10 11:16:12.692 +00:00 [DBG] Opening connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:16:12.693 +00:00 [DBG] Opened connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:16:12.693 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-10 11:16:12.694 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-10 11:16:12.694 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-10 11:16:12.695 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Shortner" ("CreatedAt", "GeneratedKey", "LastUpdatedAt", "URL")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2024-05-10 11:16:12.966 +00:00 [INF] Executed DbCommand (271ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Shortner" ("CreatedAt", "GeneratedKey", "LastUpdatedAt", "URL")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2024-05-10 11:16:12.967 +00:00 [DBG] The foreign key property 'Shortner.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-10 11:16:12.968 +00:00 [DBG] Closing data reader to 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:16:12.969 +00:00 [DBG] A data reader for 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432' is being disposed after spending 1ms reading results.
2024-05-10 11:16:12.969 +00:00 [DBG] Closing connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:16:12.970 +00:00 [DBG] Closed connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432' (1ms).
2024-05-10 11:16:12.971 +00:00 [DBG] An entity of type 'Shortner' tracked by 'QuickDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-10 11:16:12.972 +00:00 [DBG] SaveChanges completed for 'QuickDbContext' with 1 entities written to the database.
2024-05-10 11:16:12.973 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-10 11:16:12.973 +00:00 [DBG] No information found on request to perform content negotiation.
2024-05-10 11:16:12.974 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-10 11:16:12.975 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-10 11:16:12.976 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-10 11:16:12.977 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-10 11:16:12.978 +00:00 [INF] Executed action Service.Controllers.ShortnerController.ShortenUrl (Service) in 342.4323ms
2024-05-10 11:16:12.978 +00:00 [INF] Executed endpoint 'Service.Controllers.ShortnerController.ShortenUrl (Service)'
2024-05-10 11:16:12.979 +00:00 [DBG] 'QuickDbContext' disposed.
2024-05-10 11:16:12.979 +00:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:16:12.980 +00:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432' (0ms).
2024-05-10 11:16:12.981 +00:00 [INF] Request finished HTTP/2 POST https://localhost:32768/api - 200 18 application/json; charset=utf-8 354.7868ms
2024-05-10 11:16:33.967 +00:00 [INF] Request starting HTTP/2 GET https://localhost:32768/api/765b289d - null null
2024-05-10 11:16:33.991 +00:00 [DBG] The request path  does not match the path filter
2024-05-10 11:16:33.994 +00:00 [DBG] 1 candidate(s) found for the request path '/api/765b289d'
2024-05-10 11:16:33.996 +00:00 [DBG] Endpoint 'Service.Controllers.ShortnerController.RedirectUrl (Service)' with route pattern 'api/{key}' is valid for the request path '/api/765b289d'
2024-05-10 11:16:33.997 +00:00 [DBG] Request matched endpoint 'Service.Controllers.ShortnerController.RedirectUrl (Service)'
2024-05-10 11:16:33.997 +00:00 [INF] Executing endpoint 'Service.Controllers.ShortnerController.RedirectUrl (Service)'
2024-05-10 11:16:33.998 +00:00 [INF] Route matched with {action = "RedirectUrl", controller = "Shortner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RedirectUrl(System.String) on controller Service.Controllers.ShortnerController (Service).
2024-05-10 11:16:33.999 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-10 11:16:33.999 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-10 11:16:33.999 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-10 11:16:34.000 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-10 11:16:34.001 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-10 11:16:34.001 +00:00 [DBG] Executing controller factory for controller Service.Controllers.ShortnerController (Service)
2024-05-10 11:16:34.002 +00:00 [DBG] Executed controller factory for controller Service.Controllers.ShortnerController (Service)
2024-05-10 11:16:34.002 +00:00 [DBG] Attempting to bind parameter 'key' of type 'System.String' ...
2024-05-10 11:16:34.003 +00:00 [DBG] Attempting to bind parameter 'key' of type 'System.String' using the name 'key' in request data ...
2024-05-10 11:16:34.004 +00:00 [DBG] Done attempting to bind parameter 'key' of type 'System.String'.
2024-05-10 11:16:34.004 +00:00 [DBG] Done attempting to bind parameter 'key' of type 'System.String'.
2024-05-10 11:16:34.005 +00:00 [DBG] Attempting to validate the bound parameter 'key' of type 'System.String' ...
2024-05-10 11:16:34.006 +00:00 [DBG] Done attempting to validate the bound parameter 'key' of type 'System.String'.
2024-05-10 11:16:34.008 +00:00 [DBG] Entity Framework Core 8.0.4 initialized 'QuickDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-05-10 11:16:34.014 +00:00 [DBG] Creating DbConnection.
2024-05-10 11:16:34.015 +00:00 [DBG] Created DbConnection. (0ms).
2024-05-10 11:16:34.015 +00:00 [DBG] Opening connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:16:34.016 +00:00 [DBG] Opened connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:16:34.017 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-10 11:16:34.017 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-10 11:16:34.018 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-10 11:16:34.019 +00:00 [DBG] Executing DbCommand [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."URL"
FROM "Shortner" AS s
WHERE s."GeneratedKey" = @__key_0
LIMIT 1
2024-05-10 11:16:34.252 +00:00 [INF] Executed DbCommand (233ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."URL"
FROM "Shortner" AS s
WHERE s."GeneratedKey" = @__key_0
LIMIT 1
2024-05-10 11:16:34.253 +00:00 [DBG] Closing data reader to 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:16:34.253 +00:00 [DBG] A data reader for 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432' is being disposed after spending 0ms reading results.
2024-05-10 11:16:34.254 +00:00 [DBG] Closing connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:16:34.254 +00:00 [DBG] Closed connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432' (0ms).
2024-05-10 11:16:34.255 +00:00 [INF] Executing RedirectResult, redirecting to https://loop.cloud.microsoft/p/eyJ3Ijp7InUiOiJodHRwczovL3RhYXphYTEuc2hhcmVwb2ludC5jb20vP25hdj1jejBsTWtZbVpEMWlJVkUyWjFka1RURnNXVVZoWDB0WU4zaExlbGR0TUdOSWVsWldNbWcwYms1RmJURndVemx3YlZaWFZFbFVkSEV5ZG0well6QlNjVzR3UmtsTk4yWm9jV29tWmowd01VcFlUVGRYU2tkYVNrdzBRbFJKVEVWTldrSkpRVFJTVHpKS1RsQkRTRmxDSm1NOUptWnNkV2xrUFRFJTNEIiwiciI6ZmFsc2V9LCJwIjp7InUiOiJodHRwczovL3RhYXphYTEuc2hhcmVwb2ludC5jb20vOmZsOi9yL2NvbnRlbnRzdG9yYWdlL0NTUF83NDE2YTg0My02NWNkLTQ2NjAtYmYyOS03ZWYxMmIzNWE2ZDEvRG9jdW1lbnQlMjBMaWJyYXJ5L0xvb3BBcHBEYXRhL1VudGl0bGVkLmxvb3A%2FZD13YTcyODI2MGE5NjBmNGM4OTk4NTNjNWI5NDdhZDc1ZjImY3NmPTEmd2ViPTEmbmF2PWN6MGxNa1pqYjI1MFpXNTBjM1J2Y21GblpTVXlSa05UVUY4M05ERTJZVGcwTXkwMk5XTmtMVFEyTmpBdFltWXlPUzAzWldZeE1tSXpOV0UyWkRFbVpEMWlJVkUyWjFka1RURnNXVVZoWDB0WU4zaExlbGR0TUdOSWVsWldNbWcwYms1RmJURndVemx3YlZaWFZFbFVkSEV5ZG0well6QlNjVzR3UmtsTk4yWm9jV29tWmowd01VcFlUVGRYU2tGTFJWbFZTMDlFTkZkU1JrZEtVVlUyUmxoR1JESXlOVkJUSm1NOUpUSkdKbVpzZFdsa1BURW1ZVDFNYjI5d1FYQndKbkE5SlRRd1pteDFhV1I0SlRKR2JHOXZjQzF3WVdkbExXTnZiblJoYVc1bGNpWjRQU1UzUWlVeU1uY2xNaklsTTBFbE1qSlVNRkpVVlVoNE1GbFhSalpaVjBWNFRHNU9iMWxZU214alJ6bHdZbTVSZFZreU9YUm1SMGxvVlZSYWJsWXlVazVOVjNoYVVsZEdabE14WnpObFJYUTJWakl3ZDFrd2FEWldiRmw1WVVSU2RWUnJWblJOV0VKVVQxaENkRlpzWkZWVFZsSXdZMVJLTW1KVVRtcE5Sa3A0WW1wQ1IxTlZNRE5hYldoNFlXNTNkMDFWY0ZsVVZHUllVMnRrWVZOcmR6QlJiRkpLVkVWV1RsZHJTa3BSVkZKVFZIcEtTMVJzUWtSVFJteERKVEl5SlRKREpUSXlhU1V5TWlVelFTVXlNbVprTlRJelpHRXpMV1poTURBdE5EZGhaUzFpTWpRMUxUSmlNVGt5TTJGalptVmtNeVV5TWlVM1JBJTNEJTNEIiwiciI6ZmFsc2V9LCJpIjp7ImkiOiJmZDUyM2RhMy1mYTAwLTQ3YWUtYjI0NS0yYjE5MjNhY2ZlZDMifX0%3D.
2024-05-10 11:16:34.256 +00:00 [INF] Executed action Service.Controllers.ShortnerController.RedirectUrl (Service) in 254.7247ms
2024-05-10 11:16:34.257 +00:00 [INF] Executed endpoint 'Service.Controllers.ShortnerController.RedirectUrl (Service)'
2024-05-10 11:16:34.257 +00:00 [DBG] 'QuickDbContext' disposed.
2024-05-10 11:16:34.258 +00:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432'.
2024-05-10 11:16:34.258 +00:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://org-extinctsion-inst-quickurl.data-1.use1.tembo.io:5432' (0ms).
2024-05-10 11:16:34.259 +00:00 [INF] Request finished HTTP/2 GET https://localhost:32768/api/765b289d - 302 0 null 292.0526ms
